<div class="menu_page banking">
  <h4 class="text-center display-3 text-primary text-medium submenu_title">
    Banking
  </h4>
  <form class="loginform my-4 p-3" action="" id="banking">
    <div class="form-outline mb-3">
      <label htmlFor="">Operation Kind</label>
      <select
        id="action"
        class="custom-select"
        name="action"
        onchange="handleActionChange(this)"
        required
      >
        <option disabled value="">Action Type</option>
        <option value="withdraw">Withdraw</option>
        <option value="deposit">Deposit</option>
        <option value="transfer">Transfer</option>
      </select>
    </div>
    <div class="form-outline mb-3">
      <label htmlFor="">Account From</label>
      <select
        required
        id="account_no"
        class="custom-select"
        name="account_no"
        value="Select Account"
      >
        <option disabled>Select Account</option>
        {% for account in user.accounts %}
        <option value="{{account.account_no}}">{{account.account_no}}</option>
        {% endfor %}
      </select>
      <!-- <span class="account_bal" id="account_bal"> </span> -->
    </div>
    <div class="form-outline mb-3">
      <label class="form-label" for="amount"> Amount </label>
      <input
        type="number"
        id="amount"
        name="amount"
        step="0.1"
        class="form-control"
        value="0.0"
        required
      />
    </div>
    <div class="form-outline mb-3" id="account_to_div" style="display: none">
      <label class="form-label" for="account_to">Account To </label>
      <input
        type="text"
        id="account_to"
        name="account_to"
        class="form-control"
      />
      <!-- <label class="form-label account_holder" for="account_to"> </label> -->
    </div>
    <div class="form-outline mb-3" id="tran_desc_div" style="display: none">
      <label class="form-label" for="account_to">Description </label>
      <input
        type="text"
        id="transaction_desc"
        placeholder="Description"
        name="transaction_desc"
        class="form-control"
      />
      <!-- <label class="form-label account_holder" for="account_to"> </label> -->
    </div>

    <button type="submit" class="btn btn-primary btn-block mb-3">Submit</button>
  </form>
</div>
<script>
  function handleActionChange(e) {
    const action = e.value
    if (action === 'transfer') {
      document.getElementById('account_to_div').style.display = ''
      document.getElementById('tran_desc_div').style.display = ''
    } else {
      document.getElementById('tran_desc_div').style.display = 'none'
      document.getElementById('account_to_div').style.display = 'none'
    }
  }
</script>
